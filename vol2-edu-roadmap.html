<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vol. 2 – My Edu Roadmap (Tech → Law)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../style/style.css">
  <style>
    /* page-local tweaks */
    .toolbar { display:flex; gap:12px; align-items:center; margin:14px 0 22px; }
    .export-btn { background:#1f6feb; color:#fff; border:none; padding:10px 14px; border-radius:8px; cursor:pointer; font-weight:600; }
    .export-btn:hover { background:#2a7ff0; }
    #chart { border:1px solid #222; border-radius:12px; padding:8px; background:#111; }
    .desc { display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
    .card { background:#121212; border:1px solid #222; padding:14px; border-radius:10px; }
    .card h3 { margin:0 0 6px 0; font-size:16px; color:#e9e9e9; }
    .card p { margin:0; line-height:1.45; color:#cfcfcf; }
    .muted { color:#a8a8a8; font-size:13px; }
  </style>
</head>
<body>
  <canvas id="neural-network-bg"></canvas>

  <div class="container">
    <nav class="back-home"><a href="../index.html">Home</a></nav>
    <header class="header animate-on-scroll">
      <h1><i class="fas fa-diagram-project"></i> Vol. 2 – My Edu Roadmap (Tech → Law)</h1>
      <p class="text-center mb-0"><em>Interactive pathway with French modules & CLP alignment</em></p>
    </header>

    <div class="toolbar animate-on-scroll">
      <button class="export-btn" id="pdfBtn"><i class="fas fa-file-export"></i> Export as PDF</button>
      <span class="muted">Tip: hover nodes/flows for details</span>
    </div>

    <section class="animate-on-scroll">
      <div id="chart"></div>
    </section>

    <section class="animate-on-scroll">
      <h2><i class="fas fa-circle-info section-icon"></i> What the chart shows</h2>
      <div id="desc" class="desc"></div>
    </section>

    <footer class="footer text-center mt-4 animate-on-scroll">
      <p class="mb-0">For more information, connect via <a href="https://www.linkedin.com/in/muhammad-amirrul-al-hafiz" target="_blank">LinkedIn</a>.</p>
      <iframe class="sponsor-iframe" src="https://github.com/sponsors/amiralhafiz/card?dark=1" title="Sponsor amiralhafiz"></iframe>
    </footer>
  </div>

  <!-- libs -->
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
  <script src="../style/main.js"></script>
  <script>
    // --- Data ---
    const nodesInfo = [
      ["Master of Information Security",
        "Postgrad specialization: cyberlaw & ethics, cloud security, cryptography, forensics, pen-testing and secure software—prep for digital-evidence & cyber-offence work."],
      ["BLS (Hons) LW213 — Core",
        "UiTM BLS core: Contract, Tort, Criminal Law, Constitutional Law, Land Law, Equity & Trusts + Legal Research, Mooting, Honours Project."],
      ["Bahasa Perancis (BFR401/451/501)",
        "French modules across three levels for legal/professional communication; adds international capability."],
      ["Law & Economics",
        "Elective I. Economic analysis of law/policy. Strengthens advisory work and argumentation in regulatory, corporate & competition contexts."],
      ["Law & Media",
        "Elective II. Defamation, privacy, broadcasting, platform liability—useful for evidence & digital communications disputes."],
      ["Competition / Consumer Protection",
        "Elective III. Market conduct & consumer rights—relevant for fintech, e-commerce & platform cases."],
      ["IP Law I",
        "Elective IV. Copyright, patents, trademarks, confidential info—great fit for software/AI assets."],
      ["IP Law II",
        "Elective V. Advanced IP, licensing & enforcement, often cross-border."],
      ["AI & Law / Cyber Law",
        "Elective VI. Regulation of AI, data protection, computer misuse, forensics—directly aligned to your InfoSec background."],
      ["CLP",
        "Certificate in Legal Practice: General Paper, Evidence, Civil Proc., Criminal Proc., Professional Practice (qualifying exam)."],
      ["Pupillage (9 months)",
        "Chambering under a qualified lawyer; rotate across IP/Tech, Litigation, Corporate."],
      ["Admission to Malaysian Bar",
        "Called as Advocate & Solicitor after CLP + pupillage."]
    ];

    const nodes = nodesInfo.map(([n]) => n);
    const descMap = Object.fromEntries(nodesInfo);
    const idx = Object.fromEntries(nodes.map((n, i) => [n, i]));

    const links = [
      ["Master of Information Security", "BLS (Hons) LW213 — Core", 1],
      ["BLS (Hons) LW213 — Core", "Bahasa Perancis (BFR401/451/501)", 1],
      ["BLS (Hons) LW213 — Core", "Law & Economics", 1],
      ["BLS (Hons) LW213 — Core", "Law & Media", 1],
      ["BLS (Hons) LW213 — Core", "Competition / Consumer Protection", 1],
      ["BLS (Hons) LW213 — Core", "IP Law I", 1],
      ["BLS (Hons) LW213 — Core", "IP Law II", 1],
      ["BLS (Hons) LW213 — Core", "AI & Law / Cyber Law", 1],
      ["Law & Economics", "CLP", 1],
      ["Law & Media", "CLP", 1],
      ["Competition / Consumer Protection", "CLP", 1],
      ["IP Law I", "CLP", 1],
      ["IP Law II", "CLP", 1],
      ["AI & Law / Cyber Law", "CLP", 1],
      ["CLP", "Pupillage (9 months)", 1],
      ["Pupillage (9 months)", "Admission to Malaysian Bar", 1],
    ];

    const source = links.map(([s]) => idx[s]);
    const target = links.map(([, t]) => idx[t]);
    const value  = links.map(([, , v]) => v);

    const nodeHover = nodes.map(n => `<b>${n}</b><br>${descMap[n]}`);

    // --- Chart (dark theme) ---
    const fig = {
      data: [{
        type: "sankey",
        arrangement: "snap",
        node: {
          label: nodes,
          customdata: nodeHover,
          hovertemplate: "%{customdata}<extra></extra>",
          pad: 20, thickness: 20,
          line: { width: 0.7 }
          // no explicit colors (keeps your dark theme clean)
        },
        link: {
          source, target, value,
          hovertemplate: "<b>%{source.label}</b> → <b>%{target.label}</b><extra></extra>"
        }
      }],
      layout: {
        template: "plotly_dark",
        title: "Tech → Law Pathway (with French & CLP Alignment)",
        font: { size: 14 },
        paper_bgcolor: "#111111",
        plot_bgcolor: "#111111",
        margin: { l: 16, r: 16, t: 60, b: 16 },
        height: 700
      }
    };

    const chartDiv = document.getElementById('chart');
    Plotly.newPlot(chartDiv, fig.data, fig.layout, {displayModeBar: true, responsive: true});

    // Descriptions under chart
    const descEl = document.getElementById('desc');
    nodes.forEach(n => {
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `<h3>${n}</h3><p>${descMap[n]}</p>`;
      descEl.appendChild(div);
    });

    // PDF export button (falls back to PNG)
    document.getElementById('pdfBtn').addEventListener('click', async () => {
      try {
        await Plotly.downloadImage(chartDiv, {format: 'pdf', filename: 'edu_roadmap_vol2'});
      } catch (err) {
        console.warn('PDF export failed, falling back to PNG.', err);
        await Plotly.downloadImage(chartDiv, {format: 'png', filename: 'edu_roadmap_vol2'});
      }
    });
  </script>
</body>
</html>
